# Code Generated by Sidekick is for learning and experimentation purposes only.
name: Power Automate repository_dispatch test

on:
  repository_dispatch:
    types: [pa_test]

jobs:
  show_payload:
    runs-on: ubuntu-latest
    steps:
      - name: Show full event (sanitized)
        run: |
          echo "Event type: ${{ github.event.action }}"
          echo "Sender: ${{ github.event.sender.login }}"
          echo "Repository: ${{ github.repository }}"
      - name: Show client_payload fields
        run: |
          echo "sourceEnvName: ${{ github.event.client_payload.sourceEnvName }}"
          echo "sourceEnvUrl:  ${{ github.event.client_payload.sourceEnvUrl }}"
          echo "targetEnvName: ${{ github.event.client_payload.targetEnvName }}"
          echo "targetEnvUrl:  ${{ github.event.client_payload.targetEnvUrl }}"
          echo "solutionName:  ${{ github.event.client_payload.solutionName }}"
          echo "managed:       ${{ github.event.client_payload.managed }}"
      - name: Dump client_payload JSON
        run: |
          echo '${{ toJson(github.event.client_payload) }}'
